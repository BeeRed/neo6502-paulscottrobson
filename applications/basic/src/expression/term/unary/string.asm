; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		string.asm
;		Purpose:	Unary string 'function' (e.g. [[EXPRING]])
;		Created:	26th May 2023
;		Reviewed: 	26th June 2023
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

; ************************************************************************************************
;
;							Inline immutable string
;
; ************************************************************************************************

		.section code	

EXPUnaryInlineString: ;; [[[STRING]]]
		clc 								; physical address -> IM0,1
		tya 								; put the actual address in IM0
		adc 	codePtr
		sta 	IFR0+IM0
		lda 	codePtr+1
		adc 	#0
		sta 	IFR0+IM1
		stz 	IFR0+IM2 					; fill in the 3rd byte and type.
		lda 	#$80
		sta 	IFR0+IExp
		;
		tya	 								; skip over it.
		sec
		adc 	(codePtr),y
		tay
		;
		rts

_EXPUISRange:
		.error_range


		.send code
		


				
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

