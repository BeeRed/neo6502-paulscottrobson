; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		simple.asm
;		Purpose:	Check for simple variables
;		Created:	29th May 2023
;		Reviewed: 	No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

; ************************************************************************************************
;
;
; ************************************************************************************************

		.section code

VARCheckSimple:
		tax 								; save in X
		lda 	(codePtr),y
		cmp 	#$7C 		
		bne 	_VCSComplex
		;
		iny 								; consume the second byte, the type.
		txa  								; character (40-7F) x 4
		asl 	a
		asl  	a
		clc
		adc 	#FastVariables & $FF
		sta 	IFR0+IM0
		lda 	#FastVariables >> 8
		adc 	#0
		sta 	IFR0+IM1
		stz 	IFR0+IM2
		stz 	IFR0+IExp
		sec 								; it's a reference
		rts
		;
_VCSComplex:
		.debug		

		.send code
		
		.section storage
FastVariables: 								; 26 A-Z variables
		.fill	26*4
		.send storage

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

